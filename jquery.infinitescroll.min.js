(function(C){C.fn.infinitescroll=function(D,I){var F=C.extend({},C.fn.infinitescroll.defaults,D);var E=C.fn.infinitescroll;I=I||function(){};var H=/(.*?\/\/).*?(\/.*)/;var G=C(F.nextSelector).attr("href");G=G.match(H)?G.match(H)[2]:G;C.fn.infinitescroll.loadingMsg=C('<div id="infscr-loading" style="text-align: center;"><img style="float:none;" alt="Loading..." src="'+F.loadingImg+'" /><br /><span>'+F.loadingText+"</span></div>");E.scrollDelta=C.fn.infinitescroll.scrollDelta=C(document).height()-C(F.navSelector).offset().top;(new Image()).src=F.loadingImg;if(G.split("2").length==2){G=G.split("2")}else{F.debug&&console&&console.log("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com.");E.isInvalidPage=true}C(document).ajaxError(function(K,L,J){F.debug&&console&&console.log("Page not found. Self-destructing...");if(L.status==404){E.isDone=true}});C(window).scroll(function(){A(G,F,E,I)});A(G,F,E,I);return this};function B(E,D){return(C(document).height()-C(document).scrollTop()-C(window).height()<D.scrollDelta)}function A(G,F,D,H){if(D.isDuringAjax||D.isInvalidPage||D.isDone){return }if(B(F,D)){D.isDuringAjax=true;D.loadingMsg.appendTo(F.contentSelector).show();C(F.navSelector).hide();D.currPage++;var E=C(F.contentSelector).is("table")?C("<tbody/>"):C("<div/>");E.attr("id","infscr-page-"+D.currPage).attr("class","infscr-pages").appendTo(F.contentSelector).load(G.join(D.currPage)+" "+F.itemSelector,null,function(){if(D.isDone){D.loadingMsg.find("img").hide().parent().find("span").html(F.donetext).animate({opacity:1},2000).fadeOut("normal")}else{D.loadingMsg.fadeOut("normal");if(F.animate){var I=jQuery(window).scrollTop()+jQuery("#infscr-loading").height()+F.extraScrollPx+"px";jQuery("html,body").animate({scrollTop:I},800,function(){D.isDuringAjax=false})}D.currDOMChunk=C("#infscr-page-"+D.currPage)[0];H.call(D.currDOMChunk);if(!F.animate){D.isDuringAjax=false}}})}}C.extend(C.fn.infinitescroll,{defaults:{debug:false,nextSelector:"div.navigation a:first",loadingImg:"http://www.infinite-scroll.com/loading.gif",loadingText:"<em>Loading the next set of posts...</em>",donetext:"<em>Congratulations, you've reached the end of the internet.</em>",navSelector:"div.navigation",contentSelector:this,extraScrollPx:150,itemSelector:"div.post",animate:false},currPage:1,currDOMChunk:null,isDuringAjax:false,isInvalidPage:false,isDone:false})})(jQuery);